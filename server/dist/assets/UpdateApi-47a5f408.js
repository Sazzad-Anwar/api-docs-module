import{u as _,r as a,a as A,E,j as e,L as o,_ as p}from"./index-d636466e.js";import{u as C,a as D,F as I}from"./store-ab03c28c.js";import{B as O}from"./index.esm-a54d09aa.js";import{S as L}from"./api-model-15bb46da.js";import{B as P}from"./index.esm-e312542a.js";import{H as T}from"./index.esm-c8eed678.js";import{V as B}from"./index.esm-a1cfe4f7.js";import{A as z}from"./DynamicUrl-fc6340f8.js";const R=a.lazy(()=>p(()=>import("./Modal-faf541c3.js"),["assets/Modal-faf541c3.js","assets/index-d636466e.js","assets/index-d8da892e.css"])),f=a.lazy(()=>p(()=>import("./Index-2a79cb25.js"),["assets/Index-2a79cb25.js","assets/index-d636466e.js","assets/index-d8da892e.css"]));function K(){var u,m;let{theme:g,toggleTheme:j}=C(),r=_(),[c,k]=a.useState(""),[N,v]=a.useState({}),[y,w]=a.useState(!1),[d,n]=a.useState(!1),s=D(),t=A();a.useEffect(()=>{var i,x,b,h;(x=(i=s==null?void 0:s.api)==null?void 0:i.routes)!=null&&x.find(l=>(l==null?void 0:l.id)===(t==null?void 0:t.apiId))?v((h=(b=s==null?void 0:s.api)==null?void 0:b.routes)==null?void 0:h.find(l=>(l==null?void 0:l.id)===(t==null?void 0:t.apiId))):r(E.API_COLLECTIONS)},[]);let S=i=>{k(JSON.stringify(i)),w(!0)};return e.jsxs("div",{className:"h-screen w-full dark:bg-dark-primary-50 relative",children:[e.jsx("button",{onClick:j,className:"absolute right-5 top-5 dark:text-white z-10",children:g==="dark"?e.jsx(I,{}):e.jsx(O,{})}),e.jsxs("div",{className:"container mx-auto pt-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>{r(-1)},className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded pr-2  font-medium active:scale-95  mr-2",children:e.jsx(P,{className:"text-dark dark:text-white",size:25})}),e.jsx("h1",{className:"text-xl dark:text-gray-200 font-medium mb-0",children:"Update Api"})]}),e.jsxs("button",{className:"font-base flex items-center cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 justify-self-end rounded border border-gray-200 px-2 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",onClick:()=>n(!0),children:[e.jsx(T,{size:20,className:"mr-1"}),e.jsx("span",{className:"hidden lg:block",children:"Show structure"})]})]}),e.jsxs("div",{className:"my-3",children:[e.jsxs("h1",{className:"dark:text-white text-lg mb-1",children:["Collection Name:",e.jsx("span",{className:"text-base font-normal p-1 px-2 ml-5 dark:bg-gray-700 text-[#fa6d1b] bg-gray-200 rounded",children:(u=s==null?void 0:s.api)==null?void 0:u.collectionName})]}),e.jsxs("h1",{className:"dark:text-white text-lg",children:["Base URL:",e.jsx("span",{className:"text-base font-normal p-1 px-2 ml-5 dark:bg-gray-700 text-[#fa6d1b] bg-gray-200 rounded",children:(m=s==null?void 0:s.api)==null?void 0:m.baseUrl})]})]}),e.jsx(a.Suspense,{fallback:e.jsx(o,{}),children:e.jsx(f,{jsonData:N,readOnly:!1,height:"70vh",setData:S})}),e.jsx("button",{disabled:!y,onClick:()=>{c!==""&&(s.updateApiDetails(t==null?void 0:t.apiId,t==null?void 0:t.id,JSON.parse(c)),r(z(t==null?void 0:t.id,t==null?void 0:t.apiId)))},className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-14 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white mt-3 disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100",children:"Save"})]}),e.jsx(a.Suspense,{fallback:e.jsx(o,{}),children:e.jsx(R,{isOpen:d,onClose:()=>n(!d),children:e.jsxs("div",{className:"dark:bg-dark-primary-50 p-5 w-[60vw] bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h1",{className:"text-lg font-medium dark:text-white",children:"Sample structure of data to make an API docs"}),e.jsx("button",{onClick:()=>n(!d),className:"p-2 rounded-full dark:hover:bg-dark-primary-40 dark:text-white",children:e.jsx(B,{})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(a.Suspense,{fallback:e.jsx(o,{}),children:e.jsx(f,{jsonData:L,readOnly:!0,height:"60vh",width:"58vw"})})})]})})})]})}export{K as default};
