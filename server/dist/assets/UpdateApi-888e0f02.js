import{u as _,r as s,a as O,E as I,j as e,L as m,_ as N}from"./index-820b2746.js";import{u as P,a as T,F as L}from"./store-6a0894ee.js";import{B as z}from"./index.esm-ff9576f8.js";import{S as B}from"./api-model-15bb46da.js";import{B as M}from"./index.esm-287cb762.js";import{H as R}from"./index.esm-8c44796e.js";import{V as F}from"./index.esm-84914393.js";import{A as J}from"./DynamicUrl-b738b57c.js";import{M as U,r as V}from"./index-03cd6035.js";import"./index-4d501b15.js";const H=s.lazy(()=>N(()=>import("./Modal-8f0fd75d.js"),["assets/Modal-8f0fd75d.js","assets/index-820b2746.js","assets/index-090edb4d.css"])),v=s.lazy(()=>N(()=>import("./Index-865d015c.js"),["assets/Index-865d015c.js","assets/index-820b2746.js","assets/index-090edb4d.css","assets/index-4d501b15.js"]));function te(){var g,j;let{theme:w,toggleTheme:S}=P(),d=_(),[x,D]=s.useState(""),[o,A]=s.useState({}),[C,p]=s.useState(!1),[n,c]=s.useState(!1),[u,h]=s.useState("api"),[r,f]=s.useState(""),a=T(),t=O();s.useEffect(()=>{var i,b,k,y;(b=(i=a==null?void 0:a.api)==null?void 0:i.routes)!=null&&b.find(l=>(l==null?void 0:l.id)===(t==null?void 0:t.apiId))?A((y=(k=a==null?void 0:a.api)==null?void 0:k.routes)==null?void 0:y.find(l=>(l==null?void 0:l.id)===(t==null?void 0:t.apiId))):d(I.API_COLLECTIONS),r?p(!0):f(o.description)},[r]);let E=i=>{D(JSON.stringify(i)),p(!0)};return e.jsxs("div",{className:"h-screen w-full dark:bg-dark-primary-50 relative",children:[e.jsx("button",{onClick:S,className:"absolute right-5 top-5 dark:text-white z-10",children:w==="dark"?e.jsx(L,{}):e.jsx(z,{})}),e.jsxs("div",{className:"container mx-auto pt-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>{d(-1)},className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded pr-2  font-medium active:scale-95  mr-2",children:e.jsx(M,{className:"text-dark dark:text-white",size:25})}),e.jsx("h1",{className:"text-xl dark:text-gray-200 font-medium mb-0",children:"Update Api"})]}),e.jsxs("button",{className:"font-base flex items-center cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 justify-self-end rounded border border-gray-200 px-2 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",onClick:()=>c(!0),children:[e.jsx(R,{size:20,className:"mr-1"}),e.jsx("span",{className:"hidden lg:block",children:"Show structure"})]})]}),e.jsxs("div",{className:"my-3",children:[e.jsxs("h1",{className:"dark:text-white text-lg mb-1",children:["Collection Name:",e.jsx("span",{className:"text-base font-normal p-1 px-2 ml-5 dark:bg-gray-700 text-[#fa6d1b] bg-gray-200 rounded",children:(g=a==null?void 0:a.api)==null?void 0:g.collectionName})]}),e.jsxs("h1",{className:"dark:text-white text-lg",children:["Base URL:",e.jsx("span",{className:"text-base font-normal p-1 px-2 ml-5 dark:bg-gray-700 text-[#fa6d1b] bg-gray-200 rounded",children:(j=a==null?void 0:a.api)==null?void 0:j.baseUrl})]})]}),e.jsxs("div",{className:"my-2 flex items-center",children:[e.jsx("button",{onClick:()=>h("api"),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded px-2  font-medium hover:shadow-lg active:scale-95 dark:text-white mt-3 disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100 "+(u==="api"&&"bg-blue-600 dark:border-blue-600 text-white"),children:"API"}),e.jsx("button",{onClick:()=>h("description"),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded px-2 ml-2 font-medium hover:shadow-lg active:scale-95 mt-3 dark:text-white disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100 "+(u==="description"&&"bg-blue-600 dark:border-blue-600 text-white"),children:"Description"})]}),u==="api"?e.jsx(s.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(v,{jsonData:o,readOnly:!1,height:"60vh",setData:E})}):e.jsx(U,{value:r,onChange:i=>f(i),previewOptions:{rehypePlugins:[[V]]},height:480}),e.jsx("button",{disabled:!C,onClick:()=>{let i;x!==""?i={...JSON.parse(JSON.parse(x)),description:r}:i={...o,description:r},a.updateApiDetails(t==null?void 0:t.apiId,t==null?void 0:t.id,JSON.stringify(i)),d(J(t==null?void 0:t.id,t==null?void 0:t.apiId))},className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-14 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white mt-3 disabled:dark:border-blue-900 disabled:bg-blue-600 disabled:bg-opacity-20 disabled:text-gray-400 disabled:cursor-not-allowed disabled:active:scale-100",children:"Save"})]}),e.jsx(s.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(H,{isOpen:n,onClose:()=>c(!n),children:e.jsxs("div",{className:"dark:bg-dark-primary-50 p-5 w-[60vw] bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h1",{className:"text-lg font-medium dark:text-white",children:"Sample structure of data to make an API docs"}),e.jsx("button",{onClick:()=>c(!n),className:"p-2 rounded-full dark:hover:bg-dark-primary-40 dark:text-white",children:e.jsx(F,{})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(s.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(v,{jsonData:B,readOnly:!0,height:"60vh",width:"58vw"})})})]})})})]})}export{te as default};
