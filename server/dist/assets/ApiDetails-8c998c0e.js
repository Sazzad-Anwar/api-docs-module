import{a as re,u as ae,r as n,E as ne,j as t,L as q,_ as de}from"./index-d636466e.js";import{G as oe,u as le,a as ue,F as me,b as R}from"./store-ab03c28c.js";import{B as ce,a as ie,b as be}from"./index.esm-a54d09aa.js";import{u as he,A as fe,Q as xe}from"./useDeviceWidth-00c593b9.js";import{V as je}from"./index.esm-a1cfe4f7.js";import{a as ge}from"./index.esm-c8eed678.js";import{U as pe}from"./DynamicUrl-fc6340f8.js";const ye="https://jsonplaceholder.typicode.com",ke=[{id:"1",name:"Get Posts",description:"",url:{path:"/posts"},method:"GET"},{id:"2",name:"Get Single Posts",description:"",url:{path:"/posts/:id",variables:{isRequired:!0,params:{id:"1"}}},method:"GET"},{id:"3",name:"Get Comments of Posts",description:"",url:{path:"/posts/:id/comments",variables:{isRequired:!0,params:{id:"1"}}},method:"GET"},{id:"4",name:"Get Comments",description:"",url:{path:"/comments"},method:"GET",query:{isRequired:!0,params:{postId:"1"}}},{id:"5",name:"Add Post",description:"",url:{path:"/posts"},method:"POST",body:{isRequired:!0,params:{title:"New post title",body:"This is new post body",userId:"1"}}},{id:"6",name:"Update a post",description:"",url:{path:"/posts/:id",variables:{isRequired:!0,params:{id:"1"}}},method:"PUT",body:{isRequired:!0,params:{title:"Updated post title",body:"Updated post body",userId:"1"}}}],T={baseUrl:ye,routes:ke};function ve(j){return oe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 0 0-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 0 1 655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 0 1 279 755.2a342.16 342.16 0 0 1-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 0 1 109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]})(j)}const L=n.lazy(()=>de(()=>import("./Index-2a79cb25.js"),["assets/Index-2a79cb25.js","assets/index-d636466e.js","assets/index-d8da892e.css"]));function Ce(){var _,I,G,B,V,F;const{id:j,apiId:k}=re();let{theme:z,toggleTheme:J}=le(),C=ae();const b=ue();let e=(I=(_=b==null?void 0:b.api)==null?void 0:_.routes)==null?void 0:I.find(s=>(s==null?void 0:s.id)===k);n.useState(!1);const[M,P]=n.useState(!1),[h,g]=n.useState(""),[v,H]=n.useState(""),[N,$]=n.useState({}),[E,Q]=n.useState(),[W,O]=n.useState(!1),[c,A]=n.useState(((G=e==null?void 0:e.query)==null?void 0:G.params)??{}),[U,K]=n.useState({}),[x,X]=n.useState(((V=(B=e==null?void 0:e.url)==null?void 0:B.variables)==null?void 0:V.params)??{}),[Y,p]=n.useState({}),[y,S]=n.useState({}),{isMobileWidth:Z}=he();new FormData;let D=[{name:"headers",label:"Headers"},{name:"body",label:"Body"},{name:"query",label:"Query Params"},{name:"pathVariables",label:"URL Params"}];const ee=s=>{s&&(h==="headers"?K(JSON.parse(s)):h==="body"?$(JSON.parse(s)):h==="query"?A(JSON.parse(s)):X(JSON.parse(s)))};let w=n.useCallback(s=>{Q(s)},[]);n.useEffect(()=>{var s,d,o,l,m,i,f,r,a,u;A({}),w({}),S({}),(s=e==null?void 0:e.headers)!=null&&s.isRequired?(g("headers"),p((d=e==null?void 0:e.headers)==null?void 0:d.params)):(o=e==null?void 0:e.body)!=null&&o.isRequired?(g("body"),p((l=e==null?void 0:e.body)==null?void 0:l.params)):(m=e==null?void 0:e.query)!=null&&m.isRequired?(g("query"),p((i=e==null?void 0:e.query)==null?void 0:i.params)):(r=(f=e==null?void 0:e.url)==null?void 0:f.variables)!=null&&r.isRequired?(g("pathVariables"),p((u=(a=e==null?void 0:e.url)==null?void 0:a.variables)==null?void 0:u.params)):g(""),e===null&&C(ne.DASHBOARD),b.getApiDetails(j)},[j,k]),n.useEffect(()=>{var s,d,o,l,m;p(h==="headers"?(s=e==null?void 0:e.headers)==null?void 0:s.params:h==="body"?(d=e==null?void 0:e.body)==null?void 0:d.params:h==="query"?(o=e==null?void 0:e.query)==null?void 0:o.params:(m=(l=e==null?void 0:e.url)==null?void 0:l.variables)==null?void 0:m.params)},[h,j,k]),n.useEffect(()=>{var o,l,m,i,f;let s="",d=((o=b==null?void 0:b.api)==null?void 0:o.baseUrl)+((l=e==null?void 0:e.url)==null?void 0:l.path);(m=e==null?void 0:e.query)!=null&&m.isRequired&&Object.keys(c).length&&Object.keys(c).map((r,a)=>{Object.values(c)[a]!==""&&(s+=r+"="+Object.values(c)[a],Object.keys(c).length>a+1&&Object.values(c)[a+1]!==""&&(s+="&"))}),(f=(i=e==null?void 0:e.url)==null?void 0:i.variables)!=null&&f.isRequired&&Object.keys(x).length&&Object.keys(x).map((r,a)=>{Object.values(x)[a]!==""&&(d=d.replace(`/:${Object.keys(x)[a]}`,`/${Object.values(x)[a]}`))}),H(d+(Object.keys(c).length&&!Object.values(c).includes("")&&Object.values(c).indexOf(Object.values(c).length-1)!==Object.values(c)[Object.values(c).length-1]?"?":"")+s)},[e,v,c,x,U,N]);const te=async()=>{var s,d,o,l,m,i,f;O(!0);try{if((d=(s=e==null?void 0:e.url)==null?void 0:s.variables)!=null&&d.isRequired&&Object.values(x).includes("")){debugger;xe.warn("Please set the 'Path Variables'")}else{R.interceptors.request.use(a=>{const u={...a};return u.metadata={startTime:new Date},u},a=>Promise.reject(a)),R.interceptors.response.use(a=>{const u={...a};return u.config.metadata.endTime=new Date,u.duration=u.config.metadata.endTime-u.config.metadata.startTime,u},a=>{const u={...a};return u.config.metadata.endTime=new Date,u.duration=u.config.metadata.endTime-u.config.metadata.startTime,Promise.reject(u)});let r=await R({method:e==null?void 0:e.method,url:v,baseURL:T==null?void 0:T.baseUrl,headers:U,data:(o=e==null?void 0:e.body)!=null&&o.isRequired&&Object.keys(N).length>0?N:(l=e==null?void 0:e.body)==null?void 0:l.params,timeout:4e3});w(r.data),S({status:r==null?void 0:r.status,statusText:r==null?void 0:r.statusText,time:(r==null?void 0:r.duration)+" ms"})}O(!1)}catch(r){console.log(r),w((m=r.response)!=null&&m.data?r.response.data:r),S({status:(i=r.response)==null?void 0:i.status,statusText:(f=r.response)==null?void 0:f.statusText,time:r.duration+" ms"}),O(!1)}},se=s=>{const d=JSON.stringify(s),o=new TextEncoder().encode(d).length,l=+(o/1024).toFixed(2);return l>1?`${l} KB`:`${o} B`};return t.jsxs("div",{className:"w-full h-screen dark:bg-dark-primary-50 bg-white px-5 relative",children:[t.jsxs("div",{className:"flex justify-between items-center pr-10",children:[t.jsxs("div",{className:"flex items-center",children:[Z&&t.jsx("button",{onClick:()=>b.toggleSidebar(),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-1 mr-2 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white",children:b.isSidebarOpen?t.jsx(je,{}):t.jsx(ge,{})}),t.jsx("h1",{className:"py-3 truncate font-medium dark:text-white text-xl sticky top-0 max-w-xl dark:bg-dark-primary-50 flex items-center justify-between",children:e==null?void 0:e.name})]}),t.jsx("button",{onClick:J,className:" dark:text-white",children:z==="dark"?t.jsx(me,{}):t.jsx(ce,{})})]}),t.jsxs("div",{className:"flex items-center pr-10",children:[t.jsx("button",{className:"pr-2 py-2 rounded-l-md dark:text-primary-400 ",children:fe(e==null?void 0:e.method,e==null?void 0:e.method)}),t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx("input",{type:"text",className:"px-2 py-2 flex-1 bg-transparent bg-primary-400 dark:bg-transparent dark:text-primary-400 w-full ",disabled:!0,value:v}),t.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(v),P(!0),setTimeout(()=>{P(!1)},2e3)},className:"font-base flex items-center cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 justify-self-end rounded border border-gray-200 px-2 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",children:M?t.jsxs(t.Fragment,{children:[t.jsx(be,{className:"mr-2"})," Copied"]}):t.jsxs(t.Fragment,{children:[t.jsx(ie,{className:"mr-2"})," Copy"]})})]}),t.jsx("button",{onClick:()=>C(pe(j,k)),className:"font-base cursor-pointer lg:text-base font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-3 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",children:"Edit"}),t.jsx("button",{onClick:()=>te(),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-3 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",children:"Send"})]}),t.jsx("div",{className:"flex items-center mt-5",children:D.map(s=>{var d,o,l,m,i;return t.jsxs("button",{onClick:()=>g(s.name),className:"dark:text-primary-400 mr-4 flex items-center mx-2 py-1 border-b-2 rounded-bl-sm rounded-br-sm "+(h===s.name?" border-[#c16630] ":" border-transparent"),children:[t.jsx("span",{className:"tex-base mr-1",children:s.label}),s.name==="headers"&&((d=e==null?void 0:e.headers)==null?void 0:d.isRequired)&&t.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"}),s.name==="body"&&((o=e==null?void 0:e.body)==null?void 0:o.isRequired)&&t.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"}),s.name==="query"&&((l=e==null?void 0:e.query)==null?void 0:l.isRequired)&&t.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"}),s.name==="pathVariables"&&((i=(m=e==null?void 0:e.url)==null?void 0:m.variables)==null?void 0:i.isRequired)&&t.jsx("span",{className:"w-1 h-1 rounded-full bg-green-500"})]},s.name)})}),t.jsx("div",{className:"mt-3",children:t.jsx(n.Suspense,{fallback:t.jsx(q,{}),children:t.jsx(L,{jsonData:Y,readOnly:!1,height:"20vh",setData:ee})})}),t.jsx("div",{className:"mt-3",children:t.jsxs("div",{className:"mt-5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"mb-3 flex items-center",children:[t.jsx("h1",{className:"font-ubuntu text-base font-medium dark:text-white lg:text-lg",children:"Response"}),t.jsx("button",{onClick:()=>w({}),className:"font-base cursor-pointer lg:font-lg font-ubuntu normal-transition py-1 items-end justify-self-end rounded border border-gray-200 px-3 bg-blue-600 font-medium hover:shadow-lg active:scale-95 dark:border-blue-600 text-white ml-2",children:t.jsx(ve,{})})]}),Object.keys(y).length?t.jsxs("div",{className:"flex items-center",children:[t.jsxs("p",{className:"font-ubuntu mr-4 text-base font-semibold dark:font-normal dark:text-white",children:["Status:",t.jsxs("span",{className:(F=y.status)!=null&&F.toString().startsWith("2",0)?"ml-1 font-medium text-green-600 dark:font-normal dark:text-green-400":"ml-1 font-medium text-red-500 dark:font-normal",children:[y.status," ",y.statusText]})]}),t.jsxs("p",{className:"font-ubuntu mr-4 text-base font-semibold dark:font-normal dark:text-white",children:["Time:",t.jsx("span",{className:"ml-1 font-normal text-green-600 dark:font-normal dark:text-green-400",children:y.time})]}),t.jsxs("p",{className:"font-ubuntu mr-4 text-base font-semibold dark:font-normal dark:text-white",children:["Size:",t.jsx("span",{className:"ml-1 font-normal text-green-600 dark:font-normal dark:text-green-400",children:se(E)})]})]}):null]}),W?t.jsx(q,{}):t.jsx(n.Suspense,{fallback:t.jsx(q,{}),children:t.jsx(L,{jsonData:E,readOnly:!0,height:"55vh"})})]})})]})}export{Ce as default};
